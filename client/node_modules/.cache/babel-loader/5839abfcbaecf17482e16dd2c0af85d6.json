{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clark\\\\desktop\\\\projects\\\\course-picker\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useRef } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://localhost:8080';\nconst loginURL = `${baseUrl}/login`;\n\nconst Login = () => {\n  _s();\n\n  const [isLoggedIn, setLogin] = useState(false);\n  const [isLoginError, setLoginError] = useState(false);\n  const inputEl = useRef(null); // const [errorMessage, setErrorMessage]=useRef(null);\n\n  const login = event => {\n    event.preventDefault();\n    console.log(event);\n    console.log(event.target);\n\n    if (event.target.username.value === \"\" || event.target.password.value === \"\") {\n      setLoginError(true); // setErrorMessage(\"You must provide a username and password\");\n      // isLoginError: true,\n      // errorMessage: \"You must provide a username and password.\"\n\n      return;\n    }\n\n    axios.post(loginURL, {\n      username: event.target.username.value,\n      password: event.target.password.value\n    }).then(response => {\n      if (response.data.error) {\n        setLoginError(true); // setErrorMessage(response.data.error.message);\n        //   isLoginError: true,\n        //   errorMessage: response.data.error.message\n\n        return;\n      }\n\n      sessionStorage.setItem(\"authToken\", response.data.token);\n      setLogin(true);\n      setLoginError(false); // isLoggedIn: true,\n      // isLoginEroor: false\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const renderLogin = () => {\n    // const { isLoginError, errorMessage } = this.state\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login__header\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), isLoginError && /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          color: 'red'\n        },\n        children: \"Incorrect Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        ref: inputEl,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          htmlFor: \"username\",\n          children: \"Username: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Enter username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          htmlFor: \"password\",\n          children: \"Password: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Enter Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          onSubmit: event => Login(event),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this);\n  };\n\n  if (!isLoggedIn) return renderLogin();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Try again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/course-picker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 49\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"OH9/eYD87nccxqjfIixi2FgLPWY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/clark/desktop/projects/course-picker/client/src/components/Login/Login.js"],"names":["axios","React","useState","useRef","Redirect","Link","Form","Button","baseUrl","loginURL","Login","isLoggedIn","setLogin","isLoginError","setLoginError","inputEl","login","event","preventDefault","console","log","target","username","value","password","post","then","response","data","error","sessionStorage","setItem","token","catch","err","renderLogin","color"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React,{ useState, useRef } from 'react';\r\nimport { Redirect,Link } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './Login.scss';\r\nconst baseUrl = 'http://localhost:8080';\r\nconst loginURL = `${baseUrl}/login`;\r\n\r\nconst Login = () => {\r\n    const [isLoggedIn, setLogin]= useState(false);\r\n    const [isLoginError, setLoginError]=useState(false);\r\n    const inputEl = useRef(null);\r\n    // const [errorMessage, setErrorMessage]=useRef(null);\r\n\r\n    const login = (event) =>{\r\n        event.preventDefault();\r\n        console.log(event);\r\n        console.log(event.target);\r\n        if(event.target.username.value === \"\" || event.target.password.value === \"\"){\r\n            setLoginError(true);\r\n            // setErrorMessage(\"You must provide a username and password\");\r\n            // isLoginError: true,\r\n            // errorMessage: \"You must provide a username and password.\"\r\n            return;\r\n        }\r\n        axios.post(loginURL,{\r\n          username: event.target.username.value,\r\n          password: event.target.password.value\r\n        })\r\n        .then((response)=>{\r\n          if(response.data.error){\r\n            setLoginError(true);\r\n            // setErrorMessage(response.data.error.message);\r\n            //   isLoginError: true,\r\n            //   errorMessage: response.data.error.message\r\n            return;\r\n          }\r\n          sessionStorage.setItem(\"authToken\", response.data.token)\r\n          setLogin(true);\r\n          setLoginError(false);\r\n            // isLoggedIn: true,\r\n            // isLoginEroor: false\r\n        })\r\n        .catch((err)=>{\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    const renderLogin = () => {\r\n       // const { isLoginError, errorMessage } = this.state\r\n        return (\r\n\r\n          <div className=\"login\">\r\n            <header className=\"login__header\">Login</header>\r\n            {isLoginError && <label style={{color: 'red'}}>Incorrect Login</label>}\r\n\r\n            <form ref={inputEl}>\r\n                <label className='form-label' htmlFor=\"username\">Username: </label>\r\n                <input type='text' name='username' placeholder=\"Enter username\"/>\r\n                <label className='form-label' htmlFor=\"password\">Password: </label>\r\n                <input type='password' name='password' placeholder=\"Enter Password\"/>\r\n               <button className='btn btn-primary' type=\"submit\" onSubmit={event=> Login(event)}>\r\n                Login\r\n              </button> \r\n            </form>\r\n          </div>\r\n        )\r\n      }\r\n      if(!isLoggedIn) return renderLogin();\r\n    return (\r\n        <div>\r\n            {!isLoggedIn ?<div>Try again</div>: <Redirect to=\"/course-picker\"/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}