{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clark\\\\desktop\\\\projects\\\\course-picker\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://localhost:8080';\nconst loginURL = `${baseUrl}/login`;\n\nconst Login = () => {\n  const login = event => {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = this.loginForm;\n\n    if (email.value === \"\" || password.value === \"\") {\n      this.setState({\n        isLoginError: true,\n        errorMessage: \"You must provide a username and password.\"\n      });\n      return;\n    }\n\n    axios.post(loginURL, {\n      email: email.value,\n      password: password.value\n    }).then(response => {\n      if (response.data.error) {\n        this.setState({\n          isLoginError: true,\n          errorMessage: response.data.error.message\n        });\n        return;\n      }\n\n      sessionStorage.setItem(\"authToken\", response.data.token);\n      this.setState({\n        isLoggedIn: true,\n        isLoginEroor: false\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  renderLogin = () => {\n    const {\n      isLoginError,\n      errorMessage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login__header\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), isLoginError && /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          color: 'red'\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        ref: form => this.loginForm = form,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"email\",\n            children: \"Email Address: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"email\",\n            placeholder: \"Enter Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"password\",\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-primary\",\n          onClick: this.login,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"login__links\",\n        to: \"/howitworks\",\n        children: \"Learn how the application works\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"login__links\",\n        to: \"register\",\n        children: \"Need to register?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/clark/desktop/projects/course-picker/client/src/components/Login/Login.js"],"names":["axios","React","Redirect","Link","Form","Button","baseUrl","loginURL","Login","login","event","preventDefault","email","password","loginForm","value","setState","isLoginError","errorMessage","post","then","response","data","error","message","sessionStorage","setItem","token","isLoggedIn","isLoginEroor","catch","err","console","log","renderLogin","state","color","form"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React from 'react';\r\nimport { Redirect,Link } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './Login.scss';\r\nconst baseUrl = 'http://localhost:8080';\r\nconst loginURL = `${baseUrl}/login`;\r\n\r\nconst Login = () => {\r\n\r\n    const login = (event) =>{\r\n        event.preventDefault();\r\n        const { email, password } = this.loginForm;\r\n    \r\n        if(email.value === \"\" || password.value === \"\"){\r\n          this.setState({\r\n            isLoginError: true,\r\n            errorMessage: \"You must provide a username and password.\"\r\n          })\r\n          return;\r\n        }\r\n    \r\n        axios.post(loginURL,{\r\n          email: email.value,\r\n          password: password.value\r\n        })\r\n        .then((response)=>{\r\n          if(response.data.error){\r\n            this.setState({\r\n              isLoginError: true,\r\n              errorMessage: response.data.error.message\r\n            })\r\n            return;\r\n          }\r\n          sessionStorage.setItem(\"authToken\", response.data.token)\r\n          this.setState({\r\n            isLoggedIn: true,\r\n            isLoginEroor: false\r\n          });\r\n        })\r\n        .catch((err)=>{\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    renderLogin = () => {\r\n        const { isLoginError, errorMessage } = this.state\r\n        return (\r\n\r\n          <div className=\"login\">\r\n            <header className=\"login__header\">Login</header>\r\n            {isLoginError && <label style={{color: 'red'}}>{errorMessage}</label>}\r\n\r\n            <Form ref={form => (this.loginForm = form)}>\r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"email\">Email Address: </Form.Label>\r\n                <Form.Control type='text' name='email' placeholder=\"Enter Email Address\"/>\r\n              </Form.Group>  \r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"password\">Password: </Form.Label>\r\n                <Form.Control type='password' name='password' placeholder=\"Enter Password\"/>\r\n              </Form.Group>\r\n              <Button className='btn btn-primary' onClick={this.login}>\r\n                Login\r\n              </Button>\r\n            </Form>\r\n          <Link className=\"login__links\" to=\"/howitworks\">Learn how the application works</Link>\r\n          <Link className=\"login__links\" to=\"register\">Need to register?</Link>\r\n          </div>\r\n        )\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}