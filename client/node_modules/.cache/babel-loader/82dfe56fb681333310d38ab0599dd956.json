{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clark\\\\desktop\\\\projects\\\\course-picker\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useRef } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://localhost:8080';\nconst loginURL = `${baseUrl}/login`;\n\nconst Login = () => {\n  _s();\n\n  const [isLoggedIn, setLogin] = useState(false);\n  const [isLoginError, setLoginError] = useState(false);\n  const inputEl = useRef(null); // const [errorMessage, setErrorMessage]=useRef(null);\n\n  const login = event => {\n    console.log(event);\n    console.log(event.target);\n    event.preventDefault();\n\n    if (event.target.username.value === \"\" || event.target.password.value === \"\") {\n      setLoginError(true); // setErrorMessage(\"You must provide a username and password\");\n      // isLoginError: true,\n      // errorMessage: \"You must provide a username and password.\"\n\n      return;\n    }\n\n    axios.post(loginURL, {\n      username: event.target.username.value,\n      password: event.target.password.value\n    }).then(response => {\n      if (response.data.error) {\n        setLoginError(true); // setErrorMessage(response.data.error.message);\n        //   isLoginError: true,\n        //   errorMessage: response.data.error.message\n\n        return;\n      }\n\n      sessionStorage.setItem(\"authToken\", response.data.token);\n      setLogin(true);\n      setLoginError(false); // isLoggedIn: true,\n      // isLoginEroor: false\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const renderLogin = () => {\n    // const { isLoginError, errorMessage } = this.state\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login__header\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), isLoginError && /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          color: 'red'\n        },\n        children: \"Incorrect Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        ref: inputEl,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"username\",\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"Enter username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"password\",\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          onSubmit: event => {\n            login(event);\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this);\n  };\n\n  if (!isLoggedIn) return renderLogin();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Try again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/course-picker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 49\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"OH9/eYD87nccxqjfIixi2FgLPWY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/clark/desktop/projects/course-picker/client/src/components/Login/Login.js"],"names":["axios","React","useState","useRef","Redirect","Link","Form","Button","baseUrl","loginURL","Login","isLoggedIn","setLogin","isLoginError","setLoginError","inputEl","login","event","console","log","target","preventDefault","username","value","password","post","then","response","data","error","sessionStorage","setItem","token","catch","err","renderLogin","color"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React,{ useState, useRef } from 'react';\r\nimport { Redirect,Link } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './Login.scss';\r\nconst baseUrl = 'http://localhost:8080';\r\nconst loginURL = `${baseUrl}/login`;\r\n\r\nconst Login = () => {\r\n    const [isLoggedIn, setLogin]= useState(false);\r\n    const [isLoginError, setLoginError]=useState(false);\r\n    const inputEl = useRef(null);\r\n    // const [errorMessage, setErrorMessage]=useRef(null);\r\n\r\n    const login = (event) =>{\r\n        console.log(event);\r\n        console.log(event.target);\r\n        event.preventDefault();\r\n        if(event.target.username.value === \"\" || event.target.password.value === \"\"){\r\n            setLoginError(true);\r\n            // setErrorMessage(\"You must provide a username and password\");\r\n            // isLoginError: true,\r\n            // errorMessage: \"You must provide a username and password.\"\r\n            return;\r\n        }\r\n        axios.post(loginURL,{\r\n          username: event.target.username.value,\r\n          password: event.target.password.value\r\n        })\r\n        .then((response)=>{\r\n          if(response.data.error){\r\n            setLoginError(true);\r\n            // setErrorMessage(response.data.error.message);\r\n            //   isLoginError: true,\r\n            //   errorMessage: response.data.error.message\r\n            return;\r\n          }\r\n          sessionStorage.setItem(\"authToken\", response.data.token)\r\n          setLogin(true);\r\n          setLoginError(false);\r\n            // isLoggedIn: true,\r\n            // isLoginEroor: false\r\n        })\r\n        .catch((err)=>{\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    const renderLogin = () => {\r\n       // const { isLoginError, errorMessage } = this.state\r\n        return (\r\n\r\n          <div className=\"login\">\r\n            <header className=\"login__header\">Login</header>\r\n            {isLoginError && <label style={{color: 'red'}}>Incorrect Login</label>}\r\n\r\n            <Form ref={inputEl}>\r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"username\">Username: </Form.Label>\r\n                <Form.Control type='text' name='username' placeholder=\"Enter username\"/>\r\n              </Form.Group>  \r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"password\">Password: </Form.Label>\r\n                <Form.Control type='password' name='password' placeholder=\"Enter Password\"/>\r\n              </Form.Group>\r\n               <Button className='btn btn-primary' type=\"submit\" onSubmit={event=>{login(event)}}>\r\n                Login\r\n              </Button> \r\n            </Form>\r\n          </div>\r\n        )\r\n      }\r\n      if(!isLoggedIn) return renderLogin();\r\n    return (\r\n        <div>\r\n            {!isLoggedIn ?<div>Try again</div>: <Redirect to=\"/course-picker\"/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}