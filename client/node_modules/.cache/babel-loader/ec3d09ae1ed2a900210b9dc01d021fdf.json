{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clark\\\\desktop\\\\projects\\\\course-picker\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://localhost:8080';\nconst loginURL = `${baseUrl}/login`;\n\nconst Login = () => {\n  _s();\n\n  const [isLoggedIn, setLogin] = useState(false);\n  const [isLoginError, setLoginError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  login = event => {\n    event.preventDefault();\n    const {\n      username,\n      password\n    } = loginForm;\n\n    if (username.value === \"\" || password.value === \"\") {\n      setLoginError(true);\n      setErrorMessage(\"You must provide a username and password\"); // isLoginError: true,\n      // errorMessage: \"You must provide a username and password.\"\n\n      return;\n    }\n\n    axios.post(loginURL, {\n      username: username.value,\n      password: password.value\n    }).then(response => {\n      if (response.data.error) {\n        setLoginError(true);\n        setErrorMessage(response.data.error.message); //   isLoginError: true,\n        //   errorMessage: response.data.error.message\n\n        return;\n      }\n\n      sessionStorage.setItem(\"authToken\", response.data.token);\n      setLogin(true);\n      setLoginError(false); // isLoggedIn: true,\n      // isLoginEroor: false\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  renderLogin = () => {\n    // const { isLoginError, errorMessage } = this.state\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login__header\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), isLoginError && /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          color: 'red'\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        ref: form => loginForm = form,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"username\",\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"Enter username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"form-label\",\n            htmlFor: \"password\",\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-primary\",\n          onClick: () => {\n            login();\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"login__links\",\n        to: \"/howitworks\",\n        children: \"Learn how the application works\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"login__links\",\n        to: \"register\",\n        children: \"Need to register?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"FGBFKsWWqKZT2NMNIO97GcSNZMQ=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/clark/desktop/projects/course-picker/client/src/components/Login/Login.js"],"names":["axios","React","useState","Redirect","Link","Form","Button","baseUrl","loginURL","Login","isLoggedIn","setLogin","isLoginError","setLoginError","errorMessage","setErrorMessage","login","event","preventDefault","username","password","loginForm","value","post","then","response","data","error","message","sessionStorage","setItem","token","catch","err","console","log","renderLogin","color","form"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React,{ useState } from 'react';\r\nimport { Redirect,Link } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './Login.scss';\r\nconst baseUrl = 'http://localhost:8080';\r\nconst loginURL = `${baseUrl}/login`;\r\n\r\nconst Login = () => {\r\n    const [isLoggedIn, setLogin]= useState(false);\r\n    const [isLoginError, setLoginError]=useState(false);\r\n    const [errorMessage, setErrorMessage]=useState(\"\");\r\n    login = (event) =>{\r\n        event.preventDefault();\r\n        const { username, password } = loginForm;\r\n    \r\n        if(username.value === \"\" || password.value === \"\"){\r\n            setLoginError(true);\r\n            setErrorMessage(\"You must provide a username and password\");\r\n            // isLoginError: true,\r\n            // errorMessage: \"You must provide a username and password.\"\r\n            return;\r\n        }\r\n    \r\n        axios.post(loginURL,{\r\n          username: username.value,\r\n          password: password.value\r\n        })\r\n        .then((response)=>{\r\n          if(response.data.error){\r\n            setLoginError(true);\r\n            setErrorMessage(response.data.error.message);\r\n            //   isLoginError: true,\r\n            //   errorMessage: response.data.error.message\r\n            return;\r\n          }\r\n          sessionStorage.setItem(\"authToken\", response.data.token)\r\n          setLogin(true);\r\n          setLoginError(false);\r\n            // isLoggedIn: true,\r\n            // isLoginEroor: false\r\n        })\r\n        .catch((err)=>{\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    renderLogin = () => {\r\n       // const { isLoginError, errorMessage } = this.state\r\n        return (\r\n\r\n          <div className=\"login\">\r\n            <header className=\"login__header\">Login</header>\r\n            {isLoginError && <label style={{color: 'red'}}>{errorMessage}</label>}\r\n\r\n            <Form ref={form => (loginForm = form)}>\r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"username\">Username: </Form.Label>\r\n                <Form.Control type='text' name='username' placeholder=\"Enter username\"/>\r\n              </Form.Group>  \r\n              <Form.Group>\r\n                <Form.Label className='form-label' htmlFor=\"password\">Password: </Form.Label>\r\n                <Form.Control type='password' name='password' placeholder=\"Enter Password\"/>\r\n              </Form.Group>\r\n              <Button className='btn btn-primary' onClick={()=>{login()}}>\r\n                Login\r\n              </Button>\r\n            </Form>\r\n          <Link className=\"login__links\" to=\"/howitworks\">Learn how the application works</Link>\r\n          <Link className=\"login__links\" to=\"register\">Need to register?</Link>\r\n          </div>\r\n        )\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}